/*! For license information please see d03d8b814f7d5cc3aab3.js.LICENSE.txt */
(self.webpackChunkaf_virtual_scroll=self.webpackChunkaf_virtual_scroll||[]).push([[286],{66980:function(t,e,r){"use strict";r.r(e),r.d(e,{default:function(){return U}});var n=r(85893),o=r(19756),a=r(67294),i=r(12938),u=r(5991),s=r(68949);function l(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return c(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var f=function(t,e,r,n){var o=e.length-1;for(var a,i=e[o],u=new Map,s=l(t);!(a=s()).done;){var c=a.value,f=r(c);if(f){for(var d=u,p=void 0,y=void 0,m=0;m<o;m++){if(y=f[e[m]],!(p=d.get(y))){p=new Map;for(var h,g=l(n[m]);!(h=g()).done;){var v=h.value;d.has(v)||d.set(v,null)}d.set(y,p)}d=p}if(y=f[i],p=d.get(y))p.push(c);else{for(var b,x=l(n[o]);!(b=x()).done;){var w=b.value;d.has(w)||d.set(w,null)}d.set(y,[c])}}}return u},d=function(t,e,r){return function(n,o){var a=t(n),i=t(o);if(a&&i){var u=a[e],s=i[e];return u>s?r:u<s?-r:0}return a?r:i?-r:0}};function p(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return y(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return y(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function y(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var m=function t(e,r,n,o,a,i){void 0===i&&(i=0);var u=e.values();if(i<a-1)for(var s,l=p(u);!(s=l()).done;){var c=s.value;c&&t(c,r,n,o,a,i+1)}else for(var f,y=d(r,n,o),m=p(u);!(f=m()).done;){var h=f.value;h&&h.sort(y)}};function h(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return g(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return g(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function g(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var v=function t(e,r,n,o,a){var i;void 0===n&&(n=[]),void 0===o&&(o=[]),void 0===a&&(a=[]);for(var u,s=h(e);!(u=s()).done;){var l=u.value,c=l[0],f=l[1];if(f){var d=n.concat(c);i=-o.push(d),a.push(i),r.has(i)||(Array.isArray(f)?a.push.apply(a,f):t(f,r,d,o,a))}}return{groupValues:o,rowIndexes:a}};function b(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return x(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return x(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function x(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var w=function(){var t=e.prototype;function e(){this.rowsQuantity=0,this.getRowData=null,this.columns=[],this.compact=!0,this.filtersMap=new Map,this.groupKeys=[],this.sortDataKey="",this.sortDirection=-1,this.collapsedGroups=new Set,(0,s.ky)(this,{visibleColumns:(0,s.Fl)({equals:s.p6.structural}),priorityGroupValuesArray:(0,s.Fl)({equals:s.p6.structural})})}return t.setFiltering=function(t,e){e?this.filtersMap.set(t,e.toLowerCase()):this.filtersMap.delete(t)},t.toggleCompact=function(){this.compact=!this.compact},t.setSorting=function(t){this.sortDataKey===t&&(this.sortDirection*=-1),this.sortDataKey=t},t.setGrouping=function(t){this.groupKeys=t},t.addGrouping=function(t){this.groupKeys.includes(t)||(this.groupKeys.push(t),this.collapsedGroups.clear())},t.toggleCollapsedGroup=function(t){this.collapsedGroups.has(t)?this.collapsedGroups.delete(t):this.collapsedGroups.add(t)},t.removeGrouping=function(t){var e=this.groupKeys.indexOf(t);-1!==e&&(this.groupKeys.splice(e,1),this.collapsedGroups.clear())},(0,u.Z)(e,[{key:"visibleColumns",get:function(){var t=this;return this.columns.filter((function(e){return!t.groupKeys.includes(e.dataKey)}))}},{key:"priorityGroupValuesArray",get:function(){var t=this;return this.groupKeys.map((function(e){return t.columns.find((function(t){return t.dataKey===e})).priorityGroupValues||[]}))}},{key:"orderedIndexes",get:function(){return Array.from({length:this.rowsQuantity},(function(t,e){return e}))}},{key:"grouped",get:function(){return f(this.filteredIndexes,this.groupKeys,this.getRowData,this.priorityGroupValuesArray)}},{key:"groupedSorted",get:function(){return this.sortDataKey&&m(this.grouped,this.getRowData,this.sortDataKey,this.sortDirection,this.groupKeys.length),this.grouped}},{key:"flattenedGroups",get:function(){return v(this.groupedSorted,this.collapsedGroups)}},{key:"filteredIndexes",get:function(){var t=this,e=this.filtersMap,r=this.orderedIndexes;return this.filtersMap.size?r.filter((function(r){var n=t.getRowData(r);if(!n)return!1;for(var o,a=b(e);!(o=a()).done;){var i=o.value,u=i[0],s=i[1];if(!(""+n[u]).toLowerCase().includes(s))return!1}return!0})):r}},{key:"noGroupsSortedIndexes",get:function(){return this.sortDataKey?this.filteredIndexes.sort(d(this.getRowData,this.sortDataKey,this.sortDirection)):this.filteredIndexes}},{key:"groupsSortedIndexes",get:function(){return this.flattenedGroups.rowIndexes}},{key:"hasGrouping",get:function(){return!!this.groupKeys.length}},{key:"finalIndexes",get:function(){return this.hasGrouping?this.groupsSortedIndexes:this.noGroupsSortedIndexes}}]),t.merge=function(t){Object.assign(this,t)},e}(),S=r(87113),K=r(32857),j="_2B3KY_2EhDdLzl3od9PxI3",A="_3xhCMieeqyydLLrsB_Rjwr _2S2SLB_JTzTB3lBY1T4ZW1",G="_7PdTV3zpJzO5l3JPCJbaz",I="_24CQvBWd2KIxalcwIBcG6S",D="_1Pfh0g4BE_cuNHu46ByRkY _2S2SLB_JTzTB3lBY1T4ZW1",C="_3KQQrpclW23r77-lYRKeHq _2S2SLB_JTzTB3lBY1T4ZW1",k="_2t1GlnfqduCsfI_X7Q0BSx _2S2SLB_JTzTB3lBY1T4ZW1",_="QsUrLMXUKybinaPXO0z0B",R=r(84785);function B(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"==typeof t)return T(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return T(t,e)}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}function T(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var N=(0,i.Pi)((function(t){var e=t.m,r=t.dataKey,o=t.label,a=t.i,i=(0,R.useDrag)({item:{type:"h",dataKey:r}}),u=(i[0],i[1]);return(0,n.jsxs)("div",{ref:u,className:A,onClick:function(){return e.setSorting(r)},"aria-sort":e.sortDataKey===r?1===e.sortDirection?"ascending":"descending":void 0,children:[0===a?(0,n.jsx)("span",{"data-collapsed":e.compact?"":void 0,onClick:function(){return e.toggleCompact()},className:C}):null,o]})})),L=(0,i.Pi)((function(t){var e=t.m,r=t.dataKey;return e.compact?null:(0,n.jsx)("input",{className:G,value:e.filtersMap.get(r)||"",onChange:function(t){return e.setFiltering(r,t.target.value)}})})),M=function t(e){var r=0;if(Array.isArray(e))r+=e.length;else for(var n,o=B(e.values());!(n=o()).done;){var a=n.value;a&&(r+=t(a))}return r},O=function t(e,r,n){var o=0;if(Array.isArray(e))for(var a,i,u=B(e);!(i=u()).done;){(a=n(i.value))&&(o+=a[r])}else for(var s,l=B(e.values());!(s=l()).done;){var c=s.value;c&&(o+=t(c,r,n))}return o},Q=(0,i.Pi)((function(t){var e=t.m,r=t.column,n=t.rowIndexes;if("count"===r.totals)return M(n);if("sum"===r.totals){var o=O(n,r.dataKey,e.getRowData),a=r.formatTotal||r.format;return a?a(o):o}return null})),P=function(t){var e=t.groupKey,r=t.columns,o=t.onRemove;return(0,n.jsx)("div",{className:D,onDoubleClick:o,children:r.find((function(t){return t.dataKey===e})).label})},z=(0,i.Pi)((function(t){var e=t.m,r=t.GroupLabel,o=(0,R.useDrop)({accept:"h",drop(t){e.addGrouping(t.dataKey)}}),a=(o[0],o[1]);return e.compact?null:(0,n.jsx)("div",{className:I,ref:a,children:e.groupKeys.length?e.groupKeys.map((function(t){return(0,n.jsx)(r,{groupKey:t,columns:e.columns,onRemove:function(){return e.removeGrouping(t)}},t)})):"Drag column headers here to group by column"})})),E=(0,i.Pi)((function(t){var e=t.m,r=t.columns,o=t.idx,i=e.collapsedGroups.has(o);if(e.hasGrouping){var u=e.flattenedGroups.groupValues[~o];if(u){var s=u.length-1,l=e.groupKeys[s],c=e.columns.find((function(t){return t.dataKey===l})),f=c.getGroupLabel,d=c.label,p=c.format,y=u[s];return(0,n.jsxs)(a.Fragment,{children:[(0,n.jsx)("span",{className:k,onClick:function(){return e.toggleCollapsedGroup(o)},"data-collapsed":i?"":void 0,style:{marginLeft:2*s+"em"}})," ",f?f(y):(0,n.jsxs)(a.Fragment,{children:[d,": ",p?p(y):""+y]}),r.length?(0,n.jsx)("span",{className:_,children:r.map((function(t){return t.totals?(0,n.jsxs)("span",{children:[t.label,":  ",(0,n.jsx)(Q,{m:e,column:t,rowIndexes:(r=e.grouped,o=u,o.reduce((function(t,e){return t.get(e)}),r))})]},t.dataKey):null;var r,o}))}):null]})}}return null})),V=function(t){var e=t.rowsQuantity,r=t.getRowData,i=t.className,u=t.columns,s=t.GroupLabel,l=void 0===s?P:s,c=(0,o.Z)(t,["rowsQuantity","getRowData","className","columns","GroupLabel"]),f=(0,a.useState)((function(){return new w}))[0],d=f.finalIndexes;(0,a.useEffect)((function(){return f.merge({rowsQuantity:e,getRowData:r,columns:u})}),[e,r,u]),(0,a.useEffect)((function(){var t=f.visibleColumns.slice().sort((function(t,e){return(t.initialGrouingIndex||0)-(e.initialGrouingIndex||0)})).filter((function(t){return t.initialGroupingIndex})).map((function(t){return t.dataKey}));f.setGrouping(t)}),[]);return(0,n.jsxs)("div",{className:(0,K.Z)(j,i),children:[(0,n.jsx)(z,{m:f,GroupLabel:l}),(0,n.jsx)(S.Z,Object.assign({columns:f.visibleColumns,rowsQuantity:d.length,getRowData:r,renderRow:function(t){var e=d[t.index];return e<0?(0,n.jsx)("tr",{children:(0,n.jsx)("td",{colSpan:t.columns.length,children:(0,n.jsx)(E,{m:f,idx:e,columns:t.columns})})},t.index):(0,a.createElement)(t.Row,Object.assign({},t,{key:t.index,index:e}))},renderHeaderCells:function(t){return t.map((function(t,e){var r=t.dataKey,o=t.label,a=t.minWidth;return(0,n.jsxs)("th",{style:{minWidth:a},children:[(0,n.jsx)(N,{m:f,dataKey:r,label:o,i:e}),(0,n.jsx)(L,{m:f,dataKey:r})]},r)}))},renderTfootContent:function(t){return t.some((function(t){return!!t.totals}))?(0,n.jsx)("tr",{children:t.map((function(t){return(0,n.jsx)("td",{children:(0,n.jsx)(Q,{m:f,column:t,rowIndexes:f.filteredIndexes})},t.dataKey)}))}):null}},c))]})},W=(0,i.Pi)(V),Z=r(85384),F=r.n(Z),J=Array.from({length:1e4},(function(t,e){return{i:e,fixedRange:e%9,firstName:F().name.firstName(),lastName:F().name.lastName(),country:F().address.country()}})),U=function(){return(0,n.jsx)(W,{rowsQuantity:J.length,getRowData:function(t){return J[t]},estimatedRowHeight:30,columns:[{dataKey:"i",label:"i",totals:"sum",render:function(t){return(0,n.jsx)("div",{style:{color:"#000",textAlign:"center",lineHeight:(e=t,20+e%53+e%87+"px"),background:"hsl("+11*t%360+",60%,60%)"},children:t});var e}},{dataKey:"fixedRange",format:function(t){return"fr "+t},label:"FR",initialGroupingIndex:1,priorityGroupValues:[4,7,71,5]},{dataKey:"firstName",label:"first name",initialGroupingIndex:2,priorityGroupValues:["Dennis"],totals:"count"},{dataKey:"lastName",label:"last name"},{dataKey:"country",label:"country"}]})}}}]);
//# sourceMappingURL=d03d8b814f7d5cc3aab3.js.map